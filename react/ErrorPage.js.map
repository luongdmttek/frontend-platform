{"version":3,"file":"ErrorPage.js","names":["React","useState","PropTypes","Button","Container","Row","Col","useAppEvent","FormattedMessage","IntlProvider","getMessages","getLocale","LOCALE_CHANGED","ErrorPage","_ref","message","_useState","_useState2","_slicedToArray","locale","setLocale","reload","global","location","createElement","messages","fluid","className","id","defaultMessage","description","role","onClick","propTypes","string","defaultProps"],"sources":["../../src/react/ErrorPage.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Button, Container, Row, Col,\r\n} from '@openedx/paragon';\r\n\r\nimport { useAppEvent } from './hooks';\r\nimport {\r\n  FormattedMessage,\r\n  IntlProvider,\r\n  getMessages,\r\n  getLocale,\r\n  LOCALE_CHANGED,\r\n} from '../i18n';\r\n\r\n/**\r\n * An error page that displays a generic message for unexpected errors.  Also contains a \"Try\r\n * Again\" button to refresh the page.\r\n *\r\n * @memberof module:React\r\n * @extends {Component}\r\n */\r\nfunction ErrorPage({\r\n  message,\r\n}) {\r\n  const [locale, setLocale] = useState(getLocale());\r\n\r\n  useAppEvent(LOCALE_CHANGED, () => {\r\n    setLocale(getLocale());\r\n  });\r\n\r\n  /* istanbul ignore next */\r\n  const reload = () => {\r\n    global.location.reload();\r\n  };\r\n\r\n  return (\r\n    <IntlProvider locale={locale} messages={getMessages()}>\r\n      <Container fluid className=\"py-5 justify-content-center align-items-start text-center\" data-testid=\"error-page\">\r\n        <Row>\r\n          <Col>\r\n            <p className=\"text-muted\">\r\n              <FormattedMessage\r\n                id=\"unexpected.error.message.text\"\r\n                defaultMessage=\"An unexpected error occurred. Please click the button below to refresh the page.\"\r\n                description=\"error message when an unexpected error occurs\"\r\n              />\r\n            </p>\r\n            {message && (\r\n              <div role=\"alert\" className=\"my-4\">\r\n                <p>{message}</p>\r\n              </div>\r\n            )}\r\n            <Button onClick={reload}>\r\n              <FormattedMessage\r\n                id=\"unexpected.error.button.text\"\r\n                defaultMessage=\"Try again\"\r\n                description=\"text for button that tries to reload the app by refreshing the page\"\r\n              />\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </IntlProvider>\r\n  );\r\n}\r\n\r\nErrorPage.propTypes = {\r\n  message: PropTypes.string,\r\n};\r\n\r\nErrorPage.defaultProps = {\r\n  message: null,\r\n};\r\n\r\nexport default ErrorPage;\r\n"],"mappings":";;;;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,SAAS,MAAM,YAAY;AAClC,SACEC,MAAM,EAAEC,SAAS,EAAEC,GAAG,EAAEC,GAAG,QACtB,kBAAkB;AAEzB,SAASC,WAAW,QAAQ,SAAS;AACrC,SACEC,gBAAgB,EAChBC,YAAY,EACZC,WAAW,EACXC,SAAS,EACTC,cAAc,QACT,SAAS;;AAEhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,SAASA,CAAAC,IAAA,EAEf;EAAA,IADDC,OAAO,GAAAD,IAAA,CAAPC,OAAO;EAEP,IAAAC,SAAA,GAA4Bf,QAAQ,CAACU,SAAS,CAAC,CAAC,CAAC;IAAAM,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA1CG,MAAM,GAAAF,UAAA;IAAEG,SAAS,GAAAH,UAAA;EAExBV,WAAW,CAACK,cAAc,EAAE,YAAM;IAChCQ,SAAS,CAACT,SAAS,CAAC,CAAC,CAAC;EACxB,CAAC,CAAC;;EAEF;EACA,IAAMU,MAAM,GAAG,SAATA,MAAMA,CAAA,EAAS;IACnBC,MAAM,CAACC,QAAQ,CAACF,MAAM,CAAC,CAAC;EAC1B,CAAC;EAED,oBACErB,KAAA,CAAAwB,aAAA,CAACf,YAAY;IAACU,MAAM,EAAEA,MAAO;IAACM,QAAQ,EAAEf,WAAW,CAAC;EAAE,gBACpDV,KAAA,CAAAwB,aAAA,CAACpB,SAAS;IAACsB,KAAK;IAACC,SAAS,EAAC,2DAA2D;IAAC,eAAY;EAAY,gBAC7G3B,KAAA,CAAAwB,aAAA,CAACnB,GAAG,qBACFL,KAAA,CAAAwB,aAAA,CAAClB,GAAG,qBACFN,KAAA,CAAAwB,aAAA;IAAGG,SAAS,EAAC;EAAY,gBACvB3B,KAAA,CAAAwB,aAAA,CAAChB,gBAAgB;IACfoB,EAAE,EAAC,+BAA+B;IAClCC,cAAc,EAAC,kFAAkF;IACjGC,WAAW,EAAC;EAA+C,CAC5D,CACA,CAAC,EACHf,OAAO,iBACNf,KAAA,CAAAwB,aAAA;IAAKO,IAAI,EAAC,OAAO;IAACJ,SAAS,EAAC;EAAM,gBAChC3B,KAAA,CAAAwB,aAAA,YAAIT,OAAW,CACZ,CACN,eACDf,KAAA,CAAAwB,aAAA,CAACrB,MAAM;IAAC6B,OAAO,EAAEX;EAAO,gBACtBrB,KAAA,CAAAwB,aAAA,CAAChB,gBAAgB;IACfoB,EAAE,EAAC,8BAA8B;IACjCC,cAAc,EAAC,WAAW;IAC1BC,WAAW,EAAC;EAAqE,CAClF,CACK,CACL,CACF,CACI,CACC,CAAC;AAEnB;AAEAjB,SAAS,CAACoB,SAAS,GAAG;EACpBlB,OAAO,EAAEb,SAAS,CAACgC;AACrB,CAAC;AAEDrB,SAAS,CAACsB,YAAY,GAAG;EACvBpB,OAAO,EAAE;AACX,CAAC;AAED,eAAeF,SAAS","ignoreList":[]}